(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{128:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(44),c=a.n(l),i=(a(92),a(94),a(96),a(183)),o=a(86),m=a.n(o),u=a(181),d=a(28),E=a(20),s=Object(n.createContext)(),g=s.Provider,b=function(e){var t=e.children,a=Object(n.useState)([]),l=Object(E.a)(a,2),c=l[0],i=l[1],o=function(e){return c.findIndex(function(t){return t.id===e})>=0};return r.a.createElement(g,{value:{items:c,addItem:function(e,t){if(o(e.id)){var a=c.findIndex(function(t){return t.id===e.id}),n=Object(d.a)(c);n[a].quantity+=t,i(n)}else{var r={id:e.id,title:e.title,price:e.price,quantity:t};i([].concat(Object(d.a)(c),[r]))}},removeItem:function(e){i(c.filter(function(t){return t.id!==e}))},clear:function(){i([])},totalCart:function(){var e=0;return c.forEach(function(t){e+=t.quantity*t.price}),e},totalProducts:function(){var e=0;return c.forEach(function(t){e+=t.quantity}),e}}},t)},f=function(){var e=Object(n.useContext)(s).totalProducts;return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{badgeContent:e(),color:"error"},r.a.createElement(m.a,{color:"secondary",fontSize:"medium"})))},p=a(13),h=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"container"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(p.c,{to:"/"},r.a.createElement("h1",null,"FitShop"))),[{name:"Pesas y Mancuernas",route:"/categories/1",id:1},{name:"Accesorios",route:"/categories/2",id:2},{name:"Yoga y Pilates",route:"/categories/3",id:3}].map(function(e){return r.a.createElement("li",null,r.a.createElement(p.c,{key:e.id,to:e.route},e.name))}),r.a.createElement("li",null,r.a.createElement(i.a,{variant:"outlined",color:"secondary"},"Login")),r.a.createElement("li",null,r.a.createElement(p.c,{to:"/cart"},r.a.createElement(f,null))))))},v=a(66),x=a(192),O=a(175),y=a(193),j=function(e){var t=e.product;return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{variant:"outlined",sx:{minWidth:100,maxWidth:250,display:"inline-flex",margin:2}},r.a.createElement(O.a,null,r.a.createElement(y.a,{component:"img",sx:{width:250,height:150},image:t.pictureUrls[0]}),r.a.createElement("h3",null,t.title),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("span",null,"$",t.price)),r.a.createElement(p.b,{to:"/item/"+t.id,style:{textDecoration:"none"}},r.a.createElement(i.a,{variant:"outlined",color:"secondary"},"VER DETALLE")))))},C=function(e){var t=e.productList;return r.a.createElement(r.a.Fragment,null,t.map(function(e){return r.a.createElement(j,{key:e.id,product:e})}))},I=a(185),F=a(3),k=a(111),w=a(29),S=Object(k.a)({apiKey:"AIzaSyCTrhFiJlgrpgResrgR0sIh3dcb7LwyLDU",authDomain:"fitshopbase.firebaseapp.com",projectId:"fitshopbase",storageBucket:"fitshopbase.appspot.com",messagingSenderId:"654476619196",appId:"1:654476619196:web:d84cdb17f31ff3a1e34fb9"}),P=Object(w.f)(S),R=function(e){var t=e.greeting,a=Object(n.useState)([]),l=Object(E.a)(a,2),c=l[0],i=l[1],o=Object(F.g)().categoryId;return Object(n.useEffect)(function(){var e=Object(w.b)(P,"ItemCollection"),t=void 0!==o?Object(w.g)(e,Object(w.j)("categoryId","==",o)):e;Object(w.e)(t).then(function(e){var t=e.docs.map(function(e){var t=e.id;return Object(v.a)({id:t},e.data())});i(t)}).catch(function(e){console.log("Error: ".concat(e))})},[o]),r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{variant:"h5"},t),r.a.createElement(C,{productList:c}))},q=a(195),D=a(196),L=a(194),T=a(113),W=a.n(T),A=a(112),U=a.n(A),B=function(e){var t=e.stock,a=e.initial,l=e.onAdd,c=Object(n.useState)(a),o=Object(E.a)(c,2),m=o[0],u=o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{sx:{minWidth:100,maxWidth:200}},r.a.createElement(O.a,{variant:"Card"},"Cantidad:",r.a.createElement(L.a,{onClick:function(){m>0?u(m-1):console.log("La cantidad ya es cero")}},r.a.createElement(U.a,null)),m,r.a.createElement(L.a,{onClick:function(){m<t?u(m+1):console.log("No hay m\xe1s stock")}},r.a.createElement(W.a,null))),r.a.createElement(i.a,{variant:"outlined",color:"secondary",onClick:function(){m>0&&l(m)}},"Agregar al Carrito")))},V=function(e){var t=e.product,a=Object(n.useContext)(s).addItem,l=Object(n.useState)(!1),c=Object(E.a)(l,2),o=c[0],m=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{variant:"outlined",sx:{minWidth:200,maxWidth:900,align:"center",margin:1}},r.a.createElement(q.a,{variant:"outlined",sx:{minWidth:200,maxWidth:900,display:"flex"}},r.a.createElement(y.a,{component:"img",sx:{width:600,height:350},image:t.pictureUrls[0],border:"1px solid"}),r.a.createElement(O.a,{sx:{display:"flex",flexDirection:"column",margin:1}},r.a.createElement(I.a,{component:"div",variant:"h4"},t.title),r.a.createElement("br",null),r.a.createElement(I.a,{variant:"subtitle1",color:"text.secondary",component:"div"},t.detail),r.a.createElement("br",null),r.a.createElement(I.a,{variant:"body2",color:"text.secondary"},"Observaciones: ",r.a.createElement("br",null),t.comments),r.a.createElement("br",null),r.a.createElement(I.a,{variant:"body1"},"Precio: $",t.price),r.a.createElement(D.a,null,o?r.a.createElement(p.b,{to:"/cart",style:{textDecoration:"none"}},r.a.createElement(i.a,{variant:"outlined",color:"secondary"},"Terminar mi Compra")):r.a.createElement(B,{stock:t.stock,initial:1,onAdd:function(e){a(t,e),m(!0)}})))),r.a.createElement(q.a,{sx:{display:"flex"}},r.a.createElement(y.a,{component:"img",sx:{width:100,height:75,marginRight:1},image:t.pictureUrls[0],border:"1px solid"}),r.a.createElement(y.a,{component:"img",sx:{width:100,height:75,marginRight:1},image:t.pictureUrls[1],border:"1px solid"}),r.a.createElement(y.a,{component:"img",sx:{width:100,height:75,marginRight:1},image:t.pictureUrls[2],border:"1px solid"}))))},N=function(){var e=Object(n.useState)(null),t=Object(E.a)(e,2),a=t[0],l=t[1],c=Object(F.g)().productId;return Object(n.useEffect)(function(){var e=Object(w.b)(P,"ItemCollection"),t=Object(w.c)(e,c);Object(w.d)(t).then(function(e){l(Object(v.a)({id:c},e.data()))}).catch(function(e){console.log("Error: ".concat(e))})},[c]),r.a.createElement(r.a.Fragment,null,null!=a&&r.a.createElement(V,{product:a}))},z=a(187),J=a(191),$=a(190),M=a(186),K=a(188),Y=a(189),G=a(184),H=a(114),Q=a.n(H),X=function(){var e=Object(n.useContext)(s),t=e.items,a=e.removeItem,l=e.clear,c=e.totalCart;return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{variant:"h5"},"Carrito"),r.a.createElement("br",null),0===t.length?r.a.createElement(O.a,{sx:{margin:3,textAlign:"center"}},r.a.createElement("h3",null,"No hay productos agregados al carrito"),r.a.createElement("br",null),r.a.createElement(p.b,{to:"/",style:{textDecoration:"none"}},r.a.createElement(i.a,{variant:"outlined",color:"secondary"},"Ver Productos"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{sx:{boxShadow:1,margin:5}},r.a.createElement(M.a,{component:G.a},r.a.createElement(z.a,{sx:{minWidth:500},"aria-label":"simple table"},r.a.createElement(K.a,null,r.a.createElement(Y.a,null,r.a.createElement($.a,null,"Producto"),r.a.createElement($.a,{align:"right"},"Cantidad"),r.a.createElement($.a,{align:"right"},"Precio"),r.a.createElement($.a,{align:"right"},"Subtotal"),r.a.createElement($.a,{align:"right"}))),r.a.createElement(J.a,null,t.map(function(e){return r.a.createElement(Y.a,{key:e.id,sx:{"&:last-child td, &:last-child th":{border:0}}},r.a.createElement($.a,{component:"th",scope:"row"},e.title),r.a.createElement($.a,{align:"right"},e.quantity),r.a.createElement($.a,{align:"right"},e.price),r.a.createElement($.a,{align:"right"},e.quantity*e.price),r.a.createElement($.a,{align:"right"},r.a.createElement(L.a,{onClick:function(){a(e.id)}},r.a.createElement(Q.a,null))))}),r.a.createElement(Y.a,null,r.a.createElement($.a,{colSpan:3},"Total"),r.a.createElement($.a,{align:"right"},c())))))),r.a.createElement(O.a,{sx:{margin:5,textAlign:"center"}},r.a.createElement(i.a,{variant:"outlined",color:"secondary",onClick:function(){return l()}},"Vaciar Carrito"),r.a.createElement(p.b,{to:"/CartOrder",style:{textDecoration:"none"}},r.a.createElement(i.a,{variant:"outlined",color:"secondary"},"Finalizar Compra")))))},Z=function(){return r.a.createElement("h1",null,"P\xe1gina no encontrada")},_=a(177),ee=a(179),te=function(){var e=Object(n.useState)(0),t=Object(E.a)(e,2),a=t[0],l=t[1],c=Object(n.useRef)(""),o=Object(n.useRef)(""),m=Object(n.useRef)(""),u=Object(n.useContext)(s),d=u.items,g=u.clear,b=u.totalCart,f=function(){var e=[];d.forEach(function(t){e.push({id:t.id,title:t.title,price:t.price})});var t=Object(w.b)(P,"Orders");Object(w.a)(t,{buyer:{name:c.current.value,phone:m.current.value,email:o.current.value},items:e,date:Object(w.h)(),total:b()}).then(function(e){l(e.id)}).catch(function(e){console.log("Error: ".concat(e))})},h=function(){var e,t;d.forEach(function(a){e=Object(w.c)(P,"ItemCollection",a.id),Object(w.d)(e).then(function(n){t=n.data().stock-a.quantity,Object(w.i)(e,{stock:t})}).catch(function(e){console.log("Error: ".concat(e))})})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{variant:"h5"},"Orden de Compra"),r.a.createElement("br",null),r.a.createElement(_.a,{component:"form",sx:{"& > :not(style)":{m:1,width:"50ch"}},noValidate:!0,autoComplete:"off"},0===a?r.a.createElement("div",null,r.a.createElement("label",{id:"lblTotal"},"Total de la compra $ ",b()),r.a.createElement("br",null),r.a.createElement(ee.a,{id:"nameInput",label:"Ingrese su nombre",variant:"outlined",required:!0,inputRef:c}),r.a.createElement("br",null),r.a.createElement(ee.a,{id:"emailInput",label:"Ingrese su Email",variant:"outlined",required:!0,inputRef:o}),r.a.createElement("br",null),r.a.createElement(ee.a,{id:"phoneInput",label:"Ingrese su tel\xe9fono",variant:"outlined",required:!0,inputRef:m}),r.a.createElement("br",null),r.a.createElement(i.a,{variant:"outlined",color:"secondary",onClick:function(){return f(),h(),void g()}},"Confirmar Compra")):r.a.createElement("div",null,r.a.createElement("h3",null,"Compra Confirmada!"),r.a.createElement("br",null),r.a.createElement("h5",null,"N\xfamero de Orden: ",a),r.a.createElement(p.b,{to:"/",style:{textDecoration:"none"}},r.a.createElement(i.a,{variant:"outlined",color:"secondary"},"Ver Productos")))))},ae=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null,r.a.createElement(b,null,r.a.createElement(h,null),r.a.createElement(F.c,null,r.a.createElement(F.a,{path:"/",element:r.a.createElement(R,{greeting:"Bienvenido a la Tienda"})}),r.a.createElement(F.a,{path:"/categories/:categoryId",element:r.a.createElement(R,{greeting:"Bienvenido a la Tienda"})}),r.a.createElement(F.a,{path:"/item/:productId",element:r.a.createElement(N,null)}),r.a.createElement(F.a,{path:"/cart",element:r.a.createElement(X,null)}),r.a.createElement(F.a,{path:"/cartorder",element:r.a.createElement(te,null)}),r.a.createElement(F.a,{path:"*",element:r.a.createElement(Z,null)})))))},ne=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,178)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,l=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),l(e),c(e)})};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ae,null)),document.getElementById("root")),ne()},87:function(e,t,a){e.exports=a(128)},92:function(e,t,a){},94:function(e,t,a){},96:function(e,t,a){}},[[87,3,2]]]);
//# sourceMappingURL=main.12addcc5.chunk.js.map